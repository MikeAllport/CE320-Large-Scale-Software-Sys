package group9.UnitTests;

import group9.Piccollage;
import org.junit.Before;
import org.junit.Test;
import static org.junit.Assert.*;

import java.awt.image.BufferedImage;
import java.io.IOException;
import java.util.ArrayList;


public class PiccollageTests {

    /**
     * dummy child class used to access data members of Piccollage
     */
    public static class PicCollageTest extends Piccollage
    {
        PicCollageTest() throws IOException { super(); }
        public ArrayList<BufferedImage> getUnalteredBufferedImages() { return bufferedImages; }
    }

    /**
     * actual test code from here on
     */
    PicCollageTest app;

    @Before
    public void init() throws Exception
    {
        app = new PicCollageTest();
    }

    @Test
    public void testGenerateCollagesFailNoImages()
    {
        assertEquals(0, app.getUnalteredBufferedImages().size());
        app.generateCollages();
        assertEquals(0, app.getGeneratedCollages().size());
    }

    @Test
    public void testGenerateCollagesSuccess()
    {
        app.getBufferedImages().add(new BufferedImage(100, 100, BufferedImage.TYPE_INT_RGB));
        assertEquals(1, app.getUnalteredBufferedImages().size());
        app.generateCollages();
        assertTrue(app.getGeneratedCollages().size() > 0);
    }

    @Test
    public void testGenerateCollageClearsCollages()
    {
        testGenerateCollagesSuccess();
        app.getBufferedImages().clear();
        app.generateCollages();
        assertEquals(0, app.getGeneratedCollages().size());
    }
}
