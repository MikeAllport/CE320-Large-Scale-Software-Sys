package group9.homepage_window;

import group9.CollageMakerApplication;
import group9.button_handling.*;

import javax.swing.*;
import java.awt.*;
import java.io.IOException;


public class Homepage extends JPanel {
    CollageMakerApplication theApp;

    public Homepage(CollageMakerApplication theApp) throws IOException {
        this.theApp = theApp;
        setLayout(new BorderLayout());

        JPanel topButtonBar = new JPanel(new GridLayout(1, 2));
        JPanel botButtonBar = new JPanel(new FlowLayout());

        JPanel topLeftButtons = new JPanel(new FlowLayout(FlowLayout.LEFT));
        JPanel topRightButtons = new JPanel(new FlowLayout(FlowLayout.RIGHT));

        JPanel placeholderArea = new JPanel(new BorderLayout());

        topButtonBar.add(topLeftButtons);
        topButtonBar.add(topRightButtons);

        JLabel image = new JLabel();

        //load image button including resizing icon image to fit button
        JButton loadImageBtn = new JButton();
        ImageIcon loadImageImage = new ImageIcon("trunk\\resources\\icons\\load_image_button.png");
        Image resizingLoadImageImage = loadImageImage.getImage().getScaledInstance(75,75,Image.SCALE_SMOOTH);
        ImageIcon resizedLoadImageImage = new ImageIcon(resizingLoadImageImage);
        loadImageBtn.setIcon(resizedLoadImageImage);
        loadImageBtn.setPreferredSize(new Dimension(75, 75));
        loadImageBtn.setBorder(null);

        //delete image button including resizing icon image to fit button
        JButton deleteImageButton = new JButton();
        ImageIcon deleteImageImage = new ImageIcon("trunk\\resources\\icons\\delete_button.png");
        Image resizingDeleteImageImage = deleteImageImage.getImage().getScaledInstance(67,67,Image.SCALE_SMOOTH);
        ImageIcon resizedDeleteImageImage = new ImageIcon(resizingDeleteImageImage);
        deleteImageButton.setIcon(resizedDeleteImageImage);
        deleteImageButton.setPreferredSize(new Dimension(75, 75));
        deleteImageButton.setBorder(null);

        //help homepage button including resizing icon image to fit button
        JButton helpHomePageBtn = new JButton();
        ImageIcon helpButtonImage = new ImageIcon("trunk\\resources\\icons\\help_icon_button.png");
        Image resizingHelpButtonImage = helpButtonImage.getImage().getScaledInstance(75,75,Image.SCALE_SMOOTH);
        ImageIcon resizedHelpButtonImage = new ImageIcon(resizingHelpButtonImage);
        helpHomePageBtn.setIcon(resizedHelpButtonImage);
        helpHomePageBtn.setPreferredSize(new Dimension(75, 75));
        helpHomePageBtn.setBorder(null);

        //generate collage button including resizing icon image to fit button
        JButton generateBtn = new JButton();
        ImageIcon generateButtonImage = new ImageIcon("trunk\\resources\\icons\\generate_collage_button.png");
        Image resizingGenerationButtonImage = generateButtonImage.getImage().getScaledInstance(75,75,Image.SCALE_SMOOTH);
        ImageIcon resizedGenerateButtonImage = new ImageIcon(resizingGenerationButtonImage);
        generateBtn.setIcon(resizedGenerateButtonImage);
        generateBtn.setPreferredSize(new Dimension(75, 75));
        generateBtn.setBorder(null);

        //customise collage button including resizing icon image to fit button
        JButton customiseCollageBtn = new JButton();
        ImageIcon customiseButtonImage = new ImageIcon("trunk\\resources\\icons\\customise_image_button.png");
        Image resizingCustomiseButtonImage = customiseButtonImage.getImage().getScaledInstance(67,67,Image.SCALE_SMOOTH);
        ImageIcon resizedCustomiseButtonImage = new ImageIcon(resizingCustomiseButtonImage);
        customiseCollageBtn.setIcon(resizedCustomiseButtonImage);
        customiseCollageBtn.setPreferredSize(new Dimension(75, 75));
        customiseCollageBtn.setBorder(null);

        JList<String> filesList = new JList<>(theApp.getFileNamesModel());
        filesList.setSize(100,400);
        filesList.addListSelectionListener(new DisplaySelectedImageHandler(theApp,image,filesList));

        topLeftButtons.add(loadImageBtn);
        topLeftButtons.add(deleteImageButton);
        topRightButtons.add(helpHomePageBtn);

        botButtonBar.add(generateBtn);
        botButtonBar.add(customiseCollageBtn);

        placeholderArea.add(filesList);
        placeholderArea.add(image);

        add(topButtonBar, BorderLayout.NORTH);
        add(placeholderArea, BorderLayout.CENTER);
        add(botButtonBar, BorderLayout.SOUTH);

        loadImageBtn.addActionListener(new LoadImageButtonHandler(theApp));
        deleteImageButton.addActionListener(new DeleteImageButtonHandler(theApp,filesList));
        helpHomePageBtn.addActionListener(new HelpButtonHandler(theApp));
        customiseCollageBtn.addActionListener(new CustomiseCollageButtonHandler(theApp));
        generateBtn.addActionListener(new GenerateCollageButtonHandler(theApp));
    }
}